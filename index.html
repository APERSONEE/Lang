<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="circular lang icon.png">
    <title>Lang</title>
    <script src="code.js"></script>
    <link rel="stylesheet" href="stylesheet.css">
    <style>
        /* @import url('https://fonts.googleapis.com/css2?family=Josefin+Sans&display=swap'); */
        @import url('https://fonts.googleapis.com/css2?family=Rubik+Mono+One&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Poppins&family=Rubik+Mono+One&display=swap');
        
        .changelogshown {
            transform: translate(-50%, -50%);
            animation: showchangelog 0.5s ease-in-out;
        }

        .changeloghidden {
            transform: translate(-50%, 60%);
            animation: hidechangelog 0.5s ease-in-out;
        }

        @keyframes showchangelog {
            0% {
                transform: translate(-50%, 60%);
            }
            100% {
                transform: translate(-50%, -50%);
            }
        }

        @keyframes hidechangelog {
            0% {
                transform: translate(-50%, -50%);
            }
            100% {
                transform: translate(-50%, 60%);
            }
        }

        #changelog {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 75vw; height: 75vh; background-color: var(--primary-light);
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
        }

        body {
            margin: 0;
            background-color: var(--primary-dark);
            /* font-family: 'Josefin Sans', sans-serif; */
            font-family: 'Poppins', sans-serif;

            overflow-y: hidden;
            height: 100vh;
            width: 100vw;
        }



        .uploadConvertContainer {
            background-color: rgb(47, 61, 115);
            width: 100vw;
            color: var(--primary-light);
        }


        .studysetlist {
            background-color: rgb(7, 15, 35);
            margin-left: 10vw;
            margin-right: 10vw;

            max-height: 40vh;
            overflow-y: scroll;
        }

        .studysetentry {
            color: var(--primary-light); 
            justify-content: center;
            padding: 20px;
        }

        /* https://cssloaders.github.io */
        .lds-ellipsis {
  display: inline-block;
  position: relative;
  width: 80px;
  height: 80px;
}
.lds-ellipsis div {
  position: absolute;
  top: 33px;
  width: 13px;
  height: 13px;
  border-radius: 50%;
  background: var(--primary-light);
  animation-timing-function: cubic-bezier(0, 1, 1, 0);
}
.lds-ellipsis div:nth-child(1) {
  left: 8px;
  animation: lds-ellipsis1 0.6s infinite;
}
.lds-ellipsis div:nth-child(2) {
  left: 8px;
  animation: lds-ellipsis2 0.6s infinite;
}
.lds-ellipsis div:nth-child(3) {
  left: 32px;
  animation: lds-ellipsis2 0.6s infinite;
}
.lds-ellipsis div:nth-child(4) {
  left: 56px;
  animation: lds-ellipsis3 0.6s infinite;
}
@keyframes lds-ellipsis1 {
  0% {
    transform: scale(0);
  }
  100% {
    transform: scale(1);
  }
}
@keyframes lds-ellipsis3 {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
@keyframes lds-ellipsis2 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(24px, 0);
  }
}      
    </style>
</head>
<body onload="generateLibraryList()">
    <div class="absolute preload">
        <div style="height: 100vh;">
            <div style="height: 10vh; width: 100vw;">This is the header spacer, nobody should see this</div>

            <div style="height: 5vh; width: 100vw;"></div>
    
            <div class="uploadConvertContainer horizontalFlex">
                <div class="flexSpacer"></div>
                <div class="largeButton horizontalFlex">
                    <div onclick="window.location.href='compatibility.html'" style="width: 100%" class="centerText">Convert From Quizlet</div>
                </div>
                <div class="flexSpacer"></div>
                <div class="largeButton horizontalFlex" id="uploadmanagebutton">
                    <div id="uploadmanage" onclick="prepForUpload()" style="width: 100%;" class="centerText">Upload New Lang Studysheets</div>
                </div>
                <div class="flexSpacer"></div>
            </div>    



            <div class="absolute" id="loadingscreen" style="height: 100%; width: 100%; background-color: var(--primary-dark); overflow: hidden; pointer-events: none;">
                <div class="horizontalFlex" style="height: 40vh; width: 100%; flex-direction: column; align-items: center; justify-content: center;">
                    <div>
                        <div class="lds-ellipsis" id="studyloader"><div></div><div></div><div></div><div></div></div>
                    </div>
                </div>
            </div>

            <!-- If the user has an account and study sheets a loaded properly -->
            <div id="hasAccountView" class=absolute">
                <div class="horizontalFlex" style="justify-content: center;">
                    <div style="color: var(--primary-light); margin-right: 0;" class="centerText headerText">Your</div>
                    <div style="color: var(--primary-light); margin-left: 1vw;" class="centerText headerText">Studysheets</div>
                </div>
                <div id="studysetholder" class="studysetlist">
                </div>
            </div>
        </div>
    </div>
    <div id="header0" class="absolute" style="width: 100vw">
        <div class="horizontalFlex header">
            <div>
                <img style="height: 10vh;" src="assets/logos/lang.png">
            </div>
            <div class="flexSpacer"></div>
            <div class="flexSpacer"></div>
            <div id="homeusername">Loading</div>
            <div>
                <img class="pfp" style="height: 5vh;" src="settings.png" onclick="window.location.href='settings.html'">
            </div>
        </div>
    </div>
    <div id="header1" class="absolute horizontalFlex centerText" style="pointer-events: none; height: 10vh; width: 100vw; justify-content: center;;">
        <div class="horizontalFlex" style="width: 70vw;">
            <div class="flexSpacer button horizontalFlex" style="pointer-events: all; align-items: center; justify-content: center;" onclick="window.location.href='about-new.html'">
                <div style="color: var(--primary-light);">What is Lang?</div>
            </div>
            <div class="flexSpacer button horizontalFlex" style="pointer-events: all; align-items: center; justify-content: center;" onclick="window.location.href='studyfromfiletemp.html'">
                <div style="color: var(--primary-light);">Study From File</div>
            </div>
            <div class="flexSpacer button horizontalFlex" style="pointer-events: all; align-items: center; justify-content: center;" onclick="window.location.href = 'creator.html'">
                <div style="color: var(--primary-light);">Create</div>
            </div>
        </div>
    </div>

    
    <div id="changelog" class="changeloghidden preload centerText">
        <div id="showchangelogtext" style="font-size: 3vh; margin-top: 1vh; font-family:'Rubik Mono One';">Click here to open the changelog!</div>
        <div class="headerText" style="color:var(--primary-dark)">Changelog</div>
        <div style="margin:35px;" class="">Lang has been updated to 3.5.+. We have continued our effort to redesign Lang to our new modern standard, now with an updated Upload prompt and the 'Delete Studysheet' option is now on the homescreen.</div>
        
        <div style="margin:35px;" class="">Last update brought a redesign to the about page featuring responsive css animations, scaling, and more interactivity, as well as the creator page, featuring a new modern UI. We also added an "Upload with Lye" button that automatically uploads your studysheet to your Lye Account, instead of having to download it first. We are working on revamping other pages as well. Thank you for supporting Lang.</div>
        
        <div style="margin:35px;" class="">Make sure to follow <a href="https://github.com/nwvbug/Lang">This GitHub Repository</a> if you want to be notified as soon as Lang is updated.</div>
        
        <div style="margin:35px;" class=""><a href="updates.html">About the Lang update system</a></div>
        <footer id = "feet" class="foot2">
            <div class="samelineheader">
                <p  id = "copyright" class="copyrighttext2">Copyright Lye Software, 2022. </p>
                <p class="copyrighttext2">Current Version: Lang 3.5.2</p>
                <img src="goodsizelye.png" style="height:3vw;">
            </div>
        </footer>
    </div>

    <div id="failedSignIn" class="absolute" style="display: none; height: 100vh; width: 100vw; background-color: rgba(0, 0, 0, 0.5);">
        <div class="horizontalFlex" style="align-items: center; justify-content: center; height: 100vh; width: 100vw;">
            <div class="horizontalFlex centerText" style="border-radius: 15px; padding: 20px; align-items: center; justify-content: center; flex-direction: column; width: 30vw; height: 40vh; background-color: var(--primary-light);">
                <img src="goodsizelye.png" style="height:10vh;">
                <div style="margin-top: 10px;"></div>
                <div>We did not find a Lye account associated with this computer.</div>
                <div style="margin-top: 10px;"></div>
                <div class="button" style="color: var(--primary-light); margin: 0;" onclick="window.location.href='https://anklebowl.pythonanywhere.com/signin/www.langstudy.tech-index.html'">Log In</div>
                <div class="button" style="color: var(--primary-light); margin: 10px" onclick="window.location.href='https://anklebowl.pythonanywhere.com/signup'">Sign Up</div>
                <div id="useAsGuest" style="font-size: 10px; text-decoration: underline;">No thanks, I'd like to use Lang as a guest</div>
            </div>
        </div>
    </div>

    <div id="uploadStudySheet" class="absolute" style="display:none; height: 100vh; width: 100vw; background-color: rgba(0, 0, 0, 0.5);">
        <div class="horizontalFlex" style="align-items: center; justify-content: center; height: 100vh; width: 100vw;">
            <div class="verticalFlex centerText" style="border-radius: 15px; padding: 20px; align-items: center; justify-content: center; flex-direction: column; width: 80vw; height: 80vh; background-color: var(--primary-light);">
                <div class="horizontalFlex">
                    <div style="color: var(--primary-dark)" class="headerText" style="height:5vh;">Upload</div>
                    <img src="assets/icons/exit.png" style="height:5vh;" onclick="prepForUpload('remove')">
                </div>
               <label style="width: 80%; height: 80%;" class="custom-file-upload">
                    <input type="file" id="file" style="display: none;">
                    <div class="verticalFlex" style="align-items: center; justify-content: center; width: 100%; height: 80%; background-color: var(--primary-dark); border-radius: 25px;">
                        <div style="height: 20vh;"></div>
                        <svg style="width: 5vw; fill: var(--primary-light);" enable-background="new 0 0 385.213 385.213" version="1.1" viewBox="0 0 385.21 385.21" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                            <path d="m183.47 3.543-179.78 179.78c-2.43 2.43-3.621 5.618-3.597 8.794 0 0.096-0.048 0.168-0.048 0.265v180.46c0 6.641 5.39 12.03 12.03 12.03 0.096 0 0.168-0.048 0.265-0.048 3.176 0.024 6.364-1.167 8.794-3.597l171.38-171.38 171.76 171.76c4.824 4.824 12.644 4.824 17.468 0 2.863-2.863 3.814-6.749 3.284-10.466v-176.99c0.529-3.717-0.421-7.603-3.284-10.466l-180.12-180.12c-2.502-2.502-5.799-3.645-9.083-3.549-3.273-0.097-6.569 1.046-9.071 3.537zm177.48 194.28v145.52l-159.33-159.33c-2.502-2.502-5.799-3.645-9.083-3.549-3.272-0.096-6.569 1.047-9.071 3.549l-159.37 159.35v-145.58l168.41-168.4 168.44 168.44z"/>
                        </svg>
                        <div style="height: 5vh;"></div>
                        <div style="color: var(--primary-light);">Click here to upload a local .lang Studysheet!</div>
                    </div>
                </label>
            </div>
        </div>
    </div>
    
</body> 
<script>
    
    // Add an event listener to id changelog, when it is clicked toggle the class changeloghidden and changelogshown
    document.getElementById("changelog").addEventListener("click", function(){
        if (document.getElementById("changelog").classList.contains("changeloghidden")){
            document.getElementById("changelog").classList.remove("changeloghidden");
            document.getElementById("changelog").classList.add("changelogshown");

            document.getElementById("showchangelogtext").classList.remove("fadein");
            document.getElementById("showchangelogtext").classList.add("fadeout");
        } else {
            document.getElementById("changelog").classList.remove("changelogshown");
            document.getElementById("changelog").classList.add("changeloghidden");

            document.getElementById("showchangelogtext").classList.remove("fadeout");
            document.getElementById("showchangelogtext").classList.add("fadein");
        }
    });

    document.getElementById("useAsGuest").addEventListener("click", function(){
        setLocalUsage();
    });

    setTimeout(function(){
        document.getElementById("changelog").classList.remove("preload")
    },500);

    // disbale scrolling
    window.addEventListener("scroll", function(){
        window.scrollTo(0,0);
    });
    
    

    // this is stuff to simulate loading until the actual loading is implemented
    // var failedSignInToken = true
    // var successfulSignIn = false

    // if (failedSignInToken) {
    //     setTimeout(function(){
    //         failedSignIn()
    //     }, 3000);
    // }

    // if (successfulSignIn) {
    //     setTimeout(function(){
    //         hideLoadingView();
    //     }, 3000);
    // }

</script>
</html>

<!-- Webpage designed by aspeli, realized by ankleBowl and TYN -->
<!-- Copyright NWVBUG Development, Lye Software. Lang is a product of Lye Software. -->
<!-- If anyone else comes along and adds to the page, add your name here -->